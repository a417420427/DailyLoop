# 温馨治愈型打卡应用动效设计规范

## 全局动效原则
1. 缓动曲线：全部使用cubic-bezier(0.25, 0.1, 0.25, 1.0)（缓入缓出）
2. 时长控制：
  - 微交互：200-300ms
  - 页面过渡：400-500ms
  - 情感化动效：800-1000ms
3. 层级深度：所有元素Z轴移动范围控制在0-20px

## 页面转场动效

### 1. 首页 → 子页面
```txt
类型：右侧滑入
参数：
- 当前页：向左平移25% + 透明度100%→80%
- 新页面：从右侧100%位置滑入
- 时长：450ms
- 叠加效果：背景亮度降低10%
```

### 2. 返回动效
```txt
类型：左侧滑入
参数：
- 当前页：向右平移100%
- 目标页：从左侧-25%位置滑回 + 透明度80%→100%
- 时长：400ms
```

## 核心组件动效

### 1. 打卡按钮

```txt 

触发：点击时
序列：
1. 按压效果（0-100ms）：
   - 缩放：100% → 90%
   - 背景色饱和度+15%
   
2. 释放效果（100-300ms）：
   - 缩放：90% → 105% → 100%
   - 发射粒子：12个花瓣从中心飞出
     - 大小：4-8px随机
     - 轨迹：随机角度15°-345°
     - 速度：200-400px/s
     - 生命周期：600ms

3. 树苗生长（300-800ms）：
   - 高度：100% → 105% → 100%
   - 伴随1片新叶子生长动画
```

### 2. 任务完成动效
```txt
触发：勾选复选框时
序列：
1. 复选框填充（0-200ms）：
   - 填充路径动画（从顶部开始）
   - 同时出现✅绘制动画

2. 卡片效果（200-400ms）：
   - 背景色渐变到#F5FFED
   - 轻微上浮4px后回落

3. 完成标记（400-600ms）：
   - 右侧出现"完成！"文字
   - 伴随小星星缩放出现（0.5→1.2→1.0）

```

## 情感化动效设计

### 1. 成就解锁
```txt
触发条件：达成成就时
动画序列：
1. 遮罩层出现（0-300ms）：
   - 半透明黑色背景（透明度0%→60%）
   
2. 成就卡片弹出（300-600ms）：
   - 从下方20%位置弹跳到最终位置
   - 弹性效果：overshoot 15%

3. 特效展示（600-1200ms）：
   - 金色粒子从徽章中心爆发
   - 光晕波纹扩散（3圈）
   - 文字"成就达成！"逐字出现

4. 持续效果：
   - 徽章自身缓慢旋转（Y轴±5°）
   - 环境光缓慢变化（色温5600K→3200K）
```

### 2. 空状态引导

```txt
触发：进入空页面时
动画组合：
1. 插画入场（0-500ms）：
   - 透明度0%→100%
   - 轻微弹跳（Y轴位移20px→0）

2. 文字逐行出现（500-800ms）：
   - 每行间隔100ms
   - 伴随打字机效果

3. 按钮呼吸灯效果（持续）：
   - 亮度变化：100% → 120% → 100%
   - 周期：3s
```

## 微交互反馈
### 1. 下拉刷新

```txt
视觉元素：
- 云朵变形动画（长宽比1:1 → 1:1.5）
- 水滴下落效果（3滴，间隔150ms）

参数：
- 触发阈值：80px
- 回弹力度：阻尼系数0.4
- 完成提示：云朵恢复原状+✓出现
```

### 2. 按钮悬浮

```txt
效果类型：3D倾斜
参数：
- 鼠标进入时：
  - 根据光标位置产生-5°~5°倾斜
  - 投影偏移：X/Y ±2px
  - 亮度增加10%
  
- 鼠标离开：
  - 恢复时长：300ms
```

## 动效实现建议

### Lottie动画参数

```json

{
  "achievement_unlock": {
    "fps": 60,
    "layers": [
      {
        "type": "particle",
        "count": 30,
        "size": [4,8],
        "lifetime": [0.5,1.2]
      },
      {
        "type": "shine",
        "radius": [0,120],
        "opacity": [0,1,0]
      }
    ]
  }
}

```

###  CSS关键帧示例

```css
@keyframes buttonPress {
  0% { transform: scale(1); }
  50% { transform: scale(0.9); }
  80% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes floatUp {
  0% { transform: translateY(0); opacity: 0; }
  50% { transform: translateY(-10px); opacity: 1; }
  100% { transform: translateY(0); }
}
```